"use client"

import { Button } from "@/components/ui/button"
import Link from "next/link"
import { usePathname } from "next/navigation"
import { cn } from "@/lib/utils"

export function NavBar() {
  const pathname = usePathname()

  const navItems = [
    { href: "/", label: "Home" },
    { href: "/subscribe", label: "Search" },
  ]

  return (
    <div className="fixed top-0 w-full z-50 bg-background/80 backdrop-blur-sm border-b">
      <div className="content-container px-8">
        <div className="flex h-16 items-center max-w-7xl mx-auto">
          <Link href="/" className="flex items-center gap-2">
            <svg
              className="w-9 h-9"
              viewBox="0 0 478 468"
              fill="#5B4D9D "
              xmlns="http://www.w3.org/2000/svg"
            >
              <g transform="translate(0.000000,468.000000) scale(0.100000,-0.100000)"
                 fill="#6B7280" stroke="none">
                <path d="M526 4274 c-61 -22 -102 -59 -131 -118 -37 -77 -42 -147 -15 -218 29
                -79 43 -82 19 -6 -10 35 -19 77 -19 94 0 73 58 191 94 191 8 0 13 -4 10 -9 -3
                -5 -9 -6 -14 -3 -10 6 -53 -51 -55 -74 -1 -9 -7 -35 -14 -59 -12 -44 -4 -117
                21 -182 5 -14 9 -27 9 -30 0 -14 50 -55 89 -73 54 -25 149 -27 200 -5 l35 15
                151 -146 c83 -80 301 -292 485 -470 184 -178 459 -446 613 -595 153 -148 283
                -280 288 -292 6 -12 8 -34 4 -47 -7 -28 -226 -248 -771 -772 -120 -115 -221
                -212 -226 -216 -5 -3 -94 -90 -199 -193 -208 -206 -217 -220 -165 -271 28 -29
                61 -32 95 -8 68 45 492 462 484 475 -4 7 -2 8 5 4 7 -5 151 130 384 359 204
                202 396 387 424 412 l53 45 52 -48 c66 -61 276 -265 568 -549 677 -663 707
                -690 743 -704 57 -22 107 13 107 73 0 31 -10 43 -260 281 -250 238 -588 563
                -750 720 -96 94 -215 209 -263 255 -110 106 -131 137 -117 176 9 27 270 287
                730 729 358 345 680 654 743 716 l69 67 36 -15 c51 -21 130 -19 184 5 180 79
                222 294 86 433 -68 69 -195 87 -285 40 -21 -11 -128 -108 -238 -216 -264 -260
                -1078 -1053 -1263 -1231 l-146 -140 -170 165 c-94 91 -227 220 -296 286 -69
                66 -247 240 -395 388 -691 683 -738 728 -793 753 -60 28 -135 31 -196 8z"/>
                <path d="M1841 4264 c-24 -7 -60 -28 -80 -46 -20 -19 -62 -54 -93 -77 -32 -24
                -58 -47 -58 -51 0 -4 33 -10 74 -13 131 -10 169 -45 282 -268 68 -134 88 -164
                150 -227 78 -78 117 -100 208 -113 103 -14 218 19 306 89 25 20 90 79 145 132
                55 53 116 110 136 126 53 44 437 376 489 424 l45 41 -355 -6 c-414 -7 -377 2
                -540 -130 -133 -108 -194 -139 -256 -132 -52 5 -64 14 -157 126 -54 64 -82 89
                -121 106 -66 30 -120 35 -175 19z"/>
                <path d="M380 1956 l0 -1686 322 0 321 0 166 163 c91 89 311 304 487 477 l322
                315 4 103 c2 56 1 101 -3 100 -4 -2 -155 -145 -335 -318 -180 -173 -395 -380
                -478 -459 l-151 -144 -3 71 -3 71 -136 3 -135 3 1 128 2 129 -115 -4 c-64 -2
                -116 -1 -116 2 0 4 33 38 73 75 39 38 144 139 232 225 135 131 509 494 951
                922 98 95 100 98 70 98 -26 0 -52 20 -171 138 -191 186 -431 418 -545 526 -52
                50 -245 238 -427 419 l-333 330 0 -1687z"/>
                <path d="M4285 3546 c-84 -86 -557 -543 -685 -661 -41 -39 -181 -174 -310
                -301 -359 -352 -359 -353 -392 -356 -28 -3 -20 -12 149 -172 98 -94 315 -303
                483 -466 168 -163 394 -381 503 -486 l197 -189 -115 -3 -114 -3 -3 -127 -3
                -127 -132 4 -132 3 -3 -80 -3 -81 -75 72 c-103 97 -669 639 -796 762 l-104
                100 0 -106 0 -105 93 -89 c50 -49 155 -150 232 -225 77 -75 258 -249 401 -388
                l262 -252 321 0 321 0 0 1680 c0 924 -3 1680 -7 1679 -5 -1 -44 -38 -88 -83z"/>
                <path d="M2343 1770 c-12 -5 -26 -18 -32 -29 -7 -13 -11 -158 -11 -428 l0
                -408 -52 -19 c-58 -20 -121 -79 -165 -153 -25 -44 -28 -57 -28 -143 0 -83 3
                -102 28 -155 48 -102 112 -153 229 -180 111 -25 201 1 286 83 97 95 134 241
                90 357 -15 40 -66 116 -92 138 -29 24 -112 67 -131 67 -13 0 -15 49 -15 419
                l0 420 -26 20 c-29 23 -46 25 -81 11z"/>
              </g>
            </svg>
            <span className="font-bold text-3xl">arXivAgent</span>
          </Link>
          <div className="flex items-center gap-4 ml-auto">
            {navItems.map((item) => (
              <Link key={item.href} href={item.href}>
                <Button
                  variant="ghost"
                  className={cn(
                    "relative text-xl font-medium",
                    pathname === item.href &&
                      "after:absolute after:bottom-0 after:left-0 after:right-0 after:h-0.5 after:bg-foreground",
                  )}
                >
                  {item.label}
                </Button>
              </Link>
            ))}
          </div>
        </div>
      </div>
    </div>
  )
}

